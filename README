The algorithm is written in Haskell and there is a Cabal package file. You can build the package with:

    cabal install ihpmc.cabal

There are also binary Linux executables in "bin".

The algorithm comes with two version "ihpmc_float" and "ihpmc_exact". The former uses floating point arithmetic and the latter exact rational number arithmetic to compute probabilities. Floating point arithmetic is usually the better choice, as it is more efficient, but suffers from rounding errors. However, those rounding errors usually only become problematic, when conditioning on events with very small probability. Note, that even when using "ihpmc_exact" rounding error occur when computing CDF values for distributions employed.

The models used for the experiments of the paper "Approximate Probabilistic Inference with Bounded Error for Hybrid Probabilistic Logic Programming" are included in "examples". You can run the model for instance with:

    ./dist/build/ihpmc_float/ihpmc_float examples/.pclp -i 100000

or, in case you want to use the pre-compiled executable:

    bin/ihpmc_float diagnosis.pclp -i 100000

This will compute the result for 100000 iterations. The expected output is:

    100000 iterations...
    f9: 0.10000000693775893 (error bound: 0.000000000001976994956631728)

Instead of the number of iterations, it is also possible to specify a timeout (-t) or a maximal allowed error (-e) as stop condition. For instance:

    ihpmc_float diagnosis.pclp -i 2000 -t 1000 -e 0.01

In this case inference will stop after 2000 iterations, after 1000ms or if the maximal error of the approximation is at most 0.01, whatever occurs first.

